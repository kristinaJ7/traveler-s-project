# Проектная работа "Travelor-туры"



## Сайт Travelor-туры- «Web-помошник в поиске туров по всему миру»

 « Travelor-туры »  Мечтаете о путешествии, но не хотите тратить время на поиск подходящих вариантов? Сайт Travelor создан, чтобы сделать планирование отпуска максимально простым и приятным. Мы объединили лучшие туры от надёжных туроператоров — выбирайте направление, настраивайте фильтры и бронируйте поездку в пару кликов!

 
<img width="800" height="1500" alt="images_website (1)" src="https://github.com/user-attachments/assets/957d7670-5a33-4d67-a38d-696808f7c9a9" />
<img width="600" height="1000" alt="Blank 2 Grids Collage" src="https://github.com/user-attachments/assets/72928058-fbed-4f8c-869b-3c3fd4843ae9"/>




 ## GitHub Pages URL  
 ` https://kristinaj7.github.io/traveler-s-project/  `


Стек: HTML, SCSS, TS, Vite

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/main.ts — точка входа приложения
- src/scss/main.scss — корневой файл стилей(подключение всех файлов стилей)
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами





## Установка и запуск проекта

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка проекта

```
npm run build
```

или

```
yarn build
```




## Архитектура сайта-приложения

Приложение построено на основе паттерна MVP (Model‑View‑Presenter), обеспечивающего чёткое разделение ответственностей между компонентами. Структура состоит из трёх взаимосвязанных слоёв, каждый из которых выполняет строго определённые функции.


# 1. Слой Model (модель)
Отвечает за работу с данными:

- хранение информации;

- изменение и обработку данных;

- валидацию и бизнес‑логику, связанную с данными.



# 2. Слой View (представление)
- Обеспечивает визуализацию и взаимодействие с пользователем:

- отображение данных в интерфейсе;

- реагирование на действия пользователя (клики, ввод и т. д.);

- обновление интерфейса при получении новых данных.




# 3. Слой Presenter (презентер)
Выступает связующим звеном между Model и View:

- обрабатывает пользовательские действия, полученные от View;

 - запрашивает и передаёт данные между Model и View;

- реализует основную логику приложения;

- принимает решения о том, какие данные и когда отображать.


#Механизм взаимодействия

Взаимодействие между классами обеспечивается использованием событийно-ориентированного подхода. Модели и Представления генерируют события при изменении данных или взаимодействии пользователя с приложением, а Презентер обрабатывает эти события используя методы как Моделей, так и Представлений.


## Базовый код



## Класс Api



## Класс EventEmitter

Брокер событий реализует паттерн "Наблюдатель", позволяющий отправлять события и подписываться на события, происходящие в системе. Класс используется для связи слоя данных и представления.











## ШАГ 1 (МОДЕЛИ)  Документация проекта


## Раздел «Данные»

В нём описаны интерфейсы данных, которые были разработаны при разборе проекта
В приложении используются следующие интерфейсы для описания структур данных:

1. TourProducts — интерфейс тура (хранит массив всех товаров;)
   Описывает структуру данных о туре, доступном для оформления.

# Поля:

```
- id: string — уникальный идентификатор тура;

- description: string — описание тура;

- image: string — URL изображения тура;

- title: string — название тура;

- category: string — категория тура; (Best Deals , Popular , Curated Experiences)

- price: number — цена тура
```


##  «Модели данных» — Описаны все классы, которыми реализована работа с данными.



#  1. Класс Products (каталог туров)
 Назначение: управление данными о туристических турах в приложении.

- Основные свойства (private):

` productsList` — полный список туров;

`filteredProducts` — отфильтрованный список (или null);

`selectedProduct` — выбранный тур (или null);

`events` — система событий для оповещения компонентов.

- Ключевые методы:

`setItems(items)` — обновляет полный список туров, сбрасывает фильтр и выбор.

`getProducts()` — возвращает туры (с учётом активного фильтра).

`getProductById(id)` — ищет тур по ID, эмитирует событие при находке.

`setSelectedProduct(product)` — устанавливает выбранный тур, эмитирует событие.

`getSelectedProduct()` — возвращает текущий выбранный тур.

`filterByCategory(category)` — фильтрует туры по категории, нормализует строки, эмитирует обновление.

- События (emitted):

`"products:updated"` — при изменении списка туров;

`"product:found"` — при поиске тура по ID;

`"product:selected"` — при выборе тура.


#  2. Класс ContactForm (каталог туров)
Назначение: управление HTML‑формой обратной связи, включая валидацию данных и взаимодействие с внешними компонентами через события.

- Свойства:

`form` — DOM‑элемент формы;

`events` — система событий.

- Как работает:

1. Слушает событие submit.

2. Валидирует поля (имя, телефон, email).

3. При ошибках — показывает их; при успехе — отправляет данные и очищает форму.

- Основные методы:

`validate()` — проверяет поля, возвращает список ошибок.

`getValues()` — собирает и возвращает данные формы.

`reset()` — очищает форму и ошибки.

`resetForm()` — публичный метод для сброса формы.

`showErrors()` — отображает ошибки под формой.

- События:

`"form:valid"` — эмитируется при успешной валидации (передаёт данные формы).








### Шаг 2. Документация классов слоя View (представление классы, которые будут отвечать за отображение интерфейса.)


## Общая архитектура: 
Основной принцип: «один класс — один блок разметки». Каждый класс управляет строго своим фрагментом интерфейса.


# Классы представления
Каждый класс представления отвечает за свой блок разметки

## Классы слоя View


## 1 Card


#  Класс ViewGallery (1)
Назначение: управление DOM‑контейнером — отображение и очистка содержимого.

- Конструктор:
`constructor(container: HTMLElement)` — принимает целевой контейнер.

- Методы:

`render(items: HTMLElement[])` — заменяет содержимое контейнера на переданный набор элементов.
`clear()` — очищает контейнер.


#  Класс CardCatalog (2)
Назначение: Представляет карточку товара (тура) в каталоге: управляет отображением данных и обработкой кликов.

- Конструктор
Принимает:

` product` — данные тура (TourProducts);

`container` — DOM‑элемент карточки;

`actions?` — опциональные обработчики событий (ICardActions).

- Основные свойства

`container` — корневой элемент карточки;

`productData` — данные тура;

`ссылки на внутренние DOM‑элементы (категория, заголовок, изображение и др.).`

- Ключевые методы (сеттеры)

`category `— устанавливает категорию с обработкой пустых значений и CSS‑классов;

`title` — записывает заголовок;

`image` — подгружает изображение (с fallback на заглушку при ошибке);

`description` — заполняет описание;

`price `— форматирует и отображает цену в долларах.


- Возвращаемый метод

`getContainer()` — даёт доступ к корневому DOM‑элементу карточки.


#  Класс PreviewCard (3)
- Назначение: Отображает превью‑карточку тура с формой заявки и кнопкой отправки. Управляет заполнением данных и взаимодействием с пользователем.

- Конструктор

Принимает: container (HTMLElement) — корневой элемент карточки.

Находит и сохраняет ссылки на все ключевые DOM‑элементы (изображение, заголовок, кнопку, поля формы и др.).

Проверяет наличие элементов; при ошибке — логирует и выбрасывает исключение.

- Свойства (поля)

 `container ` — корневой DOM‑элемент.

 Ссылки на внутренние элементы:

 `imageElement, categoryElement, titleElement, textElement, priceElement ` — для отображения данных тура.

 `buttonElement ` — кнопка отправки.

Поля формы:  `nameInput, emailInput, phoneInput ` и элементы ошибок (nameError и др.).

 `product ` — данные тура (TourProducts | null).

- Основные методы

 `getContainer(): HTMLElement `

Возвращает корневой элемент карточки.

 `fillData(product: TourProducts) `

Заполняет карточку данными тура (категория, заголовок, описание, изображение, цена).

Обновляет состояние кнопки.

 `updateButtonState() `

Устанавливает текст кнопки («Submit a request») и снимает disabled.

- Сеттеры для данных:

 `category(value: string) ` — устанавливает категорию и CSS‑классы.

 `title(value: string) ` — записывает заголовок (по умолчанию «Нет названия»).

 `text(value: string) ` — заполняет описание.

 `image(value: string | null | undefined) ` — загружает изображение (с обработкой ошибок и fallback‑URL).

 `price(value: number | null) ` — отображает цену или сообщение о её отсутствии.

 `onSubmit(handler: () => void) ` (сеттер)

Назначает обработчик клика на кнопку отправки.

Очищает предыдущие слушатели при повторной установке.

- Вспомогательные методы

 `loadImage(src: string, fb?: string)  ` — загружает изображение и устанавливает alt.


 #  Modal (1)

- Назначение:Управление модальным окном: открытие, закрытие, настройка поведения.

- Конструктор

Принимает:

 `events (IEvents) ` — систему событий;

 `closeSelector ` (по умолчанию ".modal__close") — селектор кнопки закрытия;

 `contentSelector ` (по умолчанию ".modal__content") — селектор контейнера контента.

Инициализирует:

 `closeButton ` — кнопку закрытия;

 `contentContainer  `— контейнер для содержимого;

обработчики событий (клик по кнопке и оверлею).

- Свойства

 `_isOpen (boolean) ` — флаг открытого состояния окна;

 `closeButton (HTMLButtonElement) ` — кнопка закрытия;

 `contentContainer (HTMLElement)  `— контейнер для контента.

- Методы

 `open(content: HTMLElement) `

Вставляет контент в окно, показывает его, блокирует скролл страницы.

Устанавливает _isOpen = true.

 `close() `

Скрывает окно, очищает контент, снимает блокировку скролла.

Устанавливает _isOpen = false.

 `show(options: ModalOptions) `

- Открывает окно с настройками:

    content — содержимое;

    closable (по умолчанию true) — возможность закрытия;

    closeOnOverlayClick (по умолчанию true) — закрытие кликом по оверлею;

    onClose — обработчик закрытия.

Применяет CSS‑классы и стили в соответствии с настройками.




 #  Класс SectionAboutModal (1)
- Назначение:Компонент для управления содержимым модального окна «О компании» — отображает текст, изображения, ссылку и видео.

- Конструктор
Принимает container (HTMLElement) — корневой элемент модального окна.
Инициализирует ссылки на внутренние DOM‑элементы (заголовок, текст, контейнер изображений, ссылку, видео).

- Свойства (поля)

`container` — корневой элемент;

`titleElement, textElement` — элементы для заголовка и текста;

`imagesContainer` — контейнер для изображений;

`linkElement` — ссылка («Download Catalog»);

`videoElement` — видеоэлемент (может быть заглушкой).

- Методы‑сеттеры

`title(value: string | null | undefined)` — устанавливает текст заголовка;

`text(value: string | null | undefined) `— устанавливает текст описания;

`images(urls: string[])` — рендерит изображения по спискам URL (создаёт <img>);

`link(url: string) `— задаёт URL и текст ссылки (обязательно непустой);

`video(url: string)` — устанавливает источник видео и включает управление.

- Публичный метод

`getContainer(): HTMLElement` — возвращает корневой элемент компонента.





 #  Класс Success(1)
 - Назначение:Компонент для отображения экрана успешного оформления заказа.

- Конструктор
Принимает:

`events (EventEmitter)` — систему событий;

`container (HTMLElement)` — корневой элемент компонента.

Инициализирует ссылки на DOM‑элементы внутри контейнера.

- Свойства (поля)

`orderTitleElement` — заголовок успеха;

`orderSuccessImages` — контейнер для изображений;

`description `— текстовое описание результата;

`orderButtonCloseElement `— кнопка закрытия.

- Методы

`getContainer(): HTMLElement` — возвращает корневой элемент компонента;

обработчик клика по кнопке закрытия — эмитирует событие `"success:close".`
